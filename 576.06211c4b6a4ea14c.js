"use strict";var ue=Object.defineProperty,Q=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,Y=(x,_,u)=>_ in x?ue(x,_,{enumerable:!0,configurable:!0,writable:!0,value:u}):x[_]=u,A=(x,_)=>{for(var u in _||(_={}))ge.call(_,u)&&Y(x,u,_[u]);if(Q)for(var u of Q(_))pe.call(_,u)&&Y(x,u,_[u]);return x};(self.webpackChunkskyvault=self.webpackChunkskyvault||[]).push([[576],{9576:(x,_,u)=>{u.r(_),u.d(_,{DebitCardDetailsModule:()=>me});var H=u(6019),M=u(7537),R=u(4708),U=u(4762),s=u(3556),W=u(3755),z=u(4071),K=u(5894);function L(n,f,e,t,i,a,h){try{var o=n[a](h),r=o.value}catch(l){return void e(l)}o.done?f(r):Promise.resolve(r).then(t,i)}const Z=new s.OlP("config"),j=new s.OlP("NEW_CONFIG"),J=new s.OlP("INITIAL_CONFIG"),ee={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},te=["Hh:m0:s0","Hh:m0","m0:s0"],se=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let B=(()=>{class n{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(t,i,a,h)=>{const o=t.split(a),r=o.length>1?`${a}${o[1]}`:"";let l=o[0];const m=this.separatorLimit.replace(/\s/g,"");m&&+m&&(l="-"===l[0]?`-${l.slice(1,l.length).slice(0,m.length)}`:l.slice(0,m.length));const k=/(\d+)(\d{3})/;for(;i&&k.test(l);)l=l.replace(k,"$1"+i+"$2");return void 0===h?l+r:0===h?l:l+r.substr(0,h+1)},this.percentage=t=>Number(t)>=0&&Number(t)<=100,this.getPrecision=t=>{const i=t.split(".");return i.length>1?Number(i[i.length-1]):1/0},this.checkAndRemoveSuffix=t=>{var i,a,h;for(let o=(null==(i=this.suffix)?void 0:i.length)-1;o>=0;o--){const r=this.suffix.substr(o,null==(a=this.suffix)?void 0:a.length);if(t.includes(r)&&(o-1<0||!t.includes(this.suffix.substr(o-1,null==(h=this.suffix)?void 0:h.length))))return t.replace(r,"")}return t},this.checkInputPrecision=(t,i,a)=>{if(i<1/0){const h=new RegExp(this._charToRegExpExpression(a)+`\\d{${i}}.*$`),o=t.match(h);o&&o[0].length-1>i&&(t=t.substring(0,t.length-(o[0].length-1-i))),0===i&&t.endsWith(a)&&(t=t.substring(0,t.length-1))}return t},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,t){const[i,a]=t;return this.customPattern=a,this.applyMask(e,i)}applyMask(e,t,i=0,a=!1,h=!1,o=(()=>{})){var P,E;if(!t||"string"!=typeof e)return"";let r=0,l="",m=!1,k=!1,S=1,g=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));const p=e.toString().split("");"IP"===t&&(this.ipError=p.filter(d=>"."===d).length<3&&p.length<7,t="099.099.099.099");const y=[];for(let d=0;d<e.length;d++)(null==(P=e[d])?void 0:P.match("\\d"))&&y.push(e[d]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=11!==y.length&&14!==y.length,t=y.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const d=this.getPrecision(t);e=this.checkInputPrecision(e,d,this.decimalMarker)}e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))&&(e=`${e.substring(0,e.indexOf(".")-1)}${e.substring(e.indexOf("."),e.length)}`),l=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker&&!h?e.slice(1,e.length):e;const d=this._charToRegExpExpression(this.thousandSeparator),c=this._charToRegExpExpression(this.decimalMarker),v='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(d,"").replace(c,""),C=new RegExp("["+v+"]");e.match(C)&&(e=e.substring(0,e.length-1));const O=this.getPrecision(t),$=(e=this.checkInputPrecision(e,O,this.decimalMarker)).replace(new RegExp(d,"g"),"");l=this._formatWithSeparators($,this.thousandSeparator,this.decimalMarker,O);const F=l.indexOf(",")-e.indexOf(","),b=l.length-e.length;if(b>0&&","!==l[i]){k=!0;let I=0;do{this._shift.add(i+I),I++}while(I<b)}else 0!==F&&i>0&&!(l.indexOf(",")>=i&&i>3)||!(l.indexOf(".")>=i&&i>3)&&b<=0?(this._shift.clear(),k=!0,S=b,this._shift.add(i+=b)):this._shift.clear()}else for(let d=0,c=p[0];d<p.length&&r!==t.length;d++,c=p[d])if(this._checkSymbolMask(c,t[r])&&"?"===t[r+1])l+=c,r+=2;else if("*"===t[r+1]&&m&&this._checkSymbolMask(c,t[r+2]))l+=c,r+=3,m=!1;else if(this._checkSymbolMask(c,t[r])&&"*"===t[r+1])l+=c,m=!0;else if("?"===t[r+1]&&this._checkSymbolMask(c,t[r+2]))l+=c,r+=3;else if(this._checkSymbolMask(c,t[r])){if("H"===t[r]&&Number(c)>2){r+=1,this._shiftStep(t,r,p.length),d--,this.leadZeroDateTime&&(l+="0");continue}if("h"===t[r]&&"2"===l&&Number(c)>3){r+=1,d--;continue}if("m"===t[r]&&Number(c)>5){r+=1,this._shiftStep(t,r,p.length),d--,this.leadZeroDateTime&&(l+="0");continue}if("s"===t[r]&&Number(c)>5){r+=1,this._shiftStep(t,r,p.length),d--,this.leadZeroDateTime&&(l+="0");continue}const v=31;if("d"===t[r]&&(Number(c)>3&&this.leadZeroDateTime||Number(e.slice(r,r+2))>v||"/"===e[r+1])){r+=1,this._shiftStep(t,r,p.length),d--,this.leadZeroDateTime&&(l+="0");continue}if("M"===t[r]){const C=12,O=0===r&&(Number(c)>2||Number(e.slice(r,r+2))>C||"/"===e[r+1]),$=e.slice(r-3,r-1).includes("/")&&("/"===e[r-2]&&Number(e.slice(r-1,r+1))>C&&"/"!==e[r]||"/"===e[r]||"/"===e[r-3]&&Number(e.slice(r-2,r))>C&&"/"!==e[r-1]||"/"===e[r-1]),F=Number(e.slice(r-3,r-1))<=v&&!e.slice(r-3,r-1).includes("/")&&"/"===e[r-1]&&(Number(e.slice(r,r+2))>C||"/"===e[r+1]),b=Number(e.slice(r-3,r-1))>v&&!e.slice(r-3,r-1).includes("/")&&!e.slice(r-2,r).includes("/")&&Number(e.slice(r-2,r))>C,I=Number(e.slice(r-3,r-1))<=v&&!e.slice(r-3,r-1).includes("/")&&"/"!==e[r-1]&&Number(e.slice(r-1,r+1))>C;if(Number(c)>1&&this.leadZeroDateTime||O||$||F||b||I){r+=1,this._shiftStep(t,r,p.length),d--,this.leadZeroDateTime&&(l+="0");continue}}l+=c,r++}else-1!==this.maskSpecialCharacters.indexOf(t[r])?(l+=t[r],r++,this._shiftStep(t,r,p.length),d--):this.maskSpecialCharacters.indexOf(c)>-1&&this.maskAvailablePatterns[t[r]]&&(null==(E=this.maskAvailablePatterns[t[r]])?void 0:E.optional)?(!!p[r]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(l+=p[r]),r++,d--):"*"===this.maskExpression[r+1]&&this._findSpecialChar(this.maskExpression[r+2])&&this._findSpecialChar(c)===this.maskExpression[r+2]&&m||"?"===this.maskExpression[r+1]&&this._findSpecialChar(this.maskExpression[r+2])&&this._findSpecialChar(c)===this.maskExpression[r+2]&&m?(r+=3,l+=c):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(c)<0&&c!==this.placeHolderCharacter&&(g=!0);l.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(l+=t[t.length-1]);let w=i+1;for(;this._shift.has(w);)S++,w++;let N=a?r:this._shift.has(i)?S:0;g&&N--,o(N,k),S<0&&this._shift.clear();let T=!1;h&&(T=p.every(d=>this.maskSpecialCharacters.includes(d)));let D=`${this.prefix}${T?"":l}${this.suffix}`;return 0===l.length&&(D=`${this.prefix}${l}`),D}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){var i,a,h;return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&(null==(i=this.maskAvailablePatterns[t])?void 0:i.pattern)&&(null==(h=null==(a=this.maskAvailablePatterns[t])?void 0:a.pattern)?void 0:h.test(e))}_stripToDecimal(e){return e.split("").filter((t,i)=>t.match("^-?\\d")||t.match("\\s")||"."===t||","===t||"-"===t&&0===i&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){return e&&(" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?"\\"+e:e)}_shiftStep(e,t,i){const a=/[*?]/g.test(e.slice(0,t))?i:t;this._shift.add(a+this.prefix.length||0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),X=(()=>{class n extends B{constructor(e,t,i,a){super(t),this.document=e,this._config=t,this._elementRef=i,this._renderer=a,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.onChange=h=>{}}applyMask(e,t,i=0,a=!1,h=!1,o=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const r=e&&"number"==typeof this.selStart?e[this.selStart]:"";let l="";if(this.hiddenInput&&!this.writingValue){let g=this.actualValue.split("");""!==e&&g.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>g.length?g.splice(this.selStart,0,null!=r?r:""):e.length<g.length&&(g.length-e.length==1?g.splice(this.selStart-1,1):g.splice(this.selStart,this.selEnd-this.selStart))):g=[],this.showMaskTyped&&(e=this.removeMask(e)),l=this.actualValue.length&&g.length<=e.length?this.shiftTypedSymbols(g.join("")):e}l=Boolean(l)&&l.length?l:e;const m=super.applyMask(l,t,i,a,h,o);if(this.actualValue=this.getActualValue(m),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(g=>g!==this.decimalMarker)),this.formControlResult(m),!this.showMaskTyped)return this.hiddenInput&&m&&m.length?this.hideInput(m,this.maskExpression):m;const k=m.length,S=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const g=this._numberSkipedSymbols(m);return m+S.slice(k+g)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?m+S:m+S.slice(k)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let i=t.exec(e),a=0;for(;null!=i;)a+=1,i=t.exec(e);return a}applyValueChanges(e=0,t,i,a=(()=>{})){const h=this._elementRef.nativeElement;h.value=this.applyMask(h.value,this.maskExpression,e,t,i,a),h!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((i,a)=>{var h,o;return this.maskAvailablePatterns&&this.maskAvailablePatterns[t[a]]&&(null==(h=this.maskAvailablePatterns[t[a]])?void 0:h.symbol)?null==(o=this.maskAvailablePatterns[t[a]])?void 0:o.symbol:i}).join("")}getActualValue(e){const t=e.split("").filter((i,a)=>{var h,o;return this._checkSymbolMask(i,null!=(h=this.maskExpression[a])?h:"")||this.maskSpecialCharacters.includes(null!=(o=this.maskExpression[a])?o:"")&&i===this.maskExpression[a]});return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((a,h)=>{if(this.maskSpecialCharacters.includes(e[h+1])&&e[h+1]!==this.maskExpression[h+1])return t=a,e[h+1];if(t.length){const o=t;return t="",o}return a})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(i=>this._findSpecialChar(i)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){var i;if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let a=0;a<e.length;a++)(null==(i=e[a])?void 0:i.match("\\d"))&&t.push(e[a]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){var h;const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const a=[];for(let o=0;o<e.length;o++)(null==(h=e[o])?void 0:h.match("\\d"))&&a.push(e[o]);return a.length<=3?t.slice(a.length,t.length):a.length>3&&a.length<=6?t.slice(a.length+1,t.length):a.length>6&&a.length<=9?t.slice(a.length+2,t.length):a.length>9&&a.length<11?t.slice(a.length+3,t.length):11===a.length?"":12===a.length?i.slice(17===e.length?16:15,i.length):a.length>12&&a.length<=14?i.slice(a.length+4,i.length):""}formControlResult(e){this.writingValue||this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e))}_toNumber(e){if(!this.isNumberValue||""===e)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e&&e.replace(this._regExpForRemove(t),"")}_removePrefix(e){return this.prefix?e&&e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix?e&&e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(t=>`\\${t}`).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let i=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(i=i.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,i):Number(i):i}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(H.K0),s.LFG(Z),s.LFG(s.SBq),s.LFG(s.Qsj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ie=(()=>{class n{constructor(e,t,i){this.document=e,this._maskService=t,this._config=i,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=a=>{},this.onTouch=()=>{}}ngOnChanges(e){var E,d,c;const{maskExpression:t,specialCharacters:i,patterns:a,prefix:h,suffix:o,thousandSeparator:r,decimalMarker:l,dropSpecialCharacters:m,hiddenInput:k,showMaskTyped:S,placeHolderCharacter:g,shownMaskExpression:p,showTemplate:y,clearIfNotMatch:w,validation:N,separatorLimit:T,allowNegativeNumbers:D,leadZeroDateTime:P}=e;if(t&&(t.currentValue!==t.previousValue&&!t.firstChange&&(this._maskService.maskChanged=!0),this._maskValue=t.currentValue||"",t.currentValue&&t.currentValue.split("||").length>1&&(this._maskExpressionArray=t.currentValue.split("||").sort((v,C)=>v.length-C.length),this._maskValue=null!=(E=this._maskExpressionArray[0])?E:"",this.maskExpression=null!=(d=this._maskExpressionArray[0])?d:"",this._maskService.maskExpression=null!=(c=this._maskExpressionArray[0])?c:"")),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.maskSpecialCharacters=i.currentValue||[]}a&&a.currentValue&&(this._maskService.maskAvailablePatterns=a.currentValue),h&&(this._maskService.prefix=h.currentValue),o&&(this._maskService.suffix=o.currentValue),r&&(this._maskService.thousandSeparator=r.currentValue),l&&(this._maskService.decimalMarker=l.currentValue),m&&(this._maskService.dropSpecialCharacters=m.currentValue),k&&(this._maskService.hiddenInput=k.currentValue),S&&(this._maskService.showMaskTyped=S.currentValue),g&&(this._maskService.placeHolderCharacter=g.currentValue),p&&(this._maskService.shownMaskExpression=p.currentValue),y&&(this._maskService.showTemplate=y.currentValue),w&&(this._maskService.clearIfNotMatch=w.currentValue),N&&(this._maskService.validation=N.currentValue),T&&(this._maskService.separatorLimit=T.currentValue),D&&(this._maskService.allowNegativeNumbers=D.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(v=>"-"!==v))),P&&(this._maskService.leadZeroDateTime=P.currentValue),this._applyMask()}validate({value:e}){var t,i,a;if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator")||se.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(te.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let h=0;for(const o in this._maskService.maskAvailablePatterns)if((null==(t=this._maskService.maskAvailablePatterns[o])?void 0:t.optional)&&!0===(null==(i=this._maskService.maskAvailablePatterns[o])?void 0:i.optional)&&(this._maskValue.indexOf(o)!==this._maskValue.lastIndexOf(o)?h+=this._maskValue.split("").filter(l=>l===o).join("").length:-1!==this._maskValue.indexOf(o)&&h++,-1!==this._maskValue.indexOf(o)&&e.toString().length>=this._maskValue.indexOf(o)||h===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(null==(a=this._maskValue.split("{")[1])?void 0:a.split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const o=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-h:this._maskValue.length-h;if(e.toString().length<o)return this._createValidationError(e)}}return null}onPaste(){this._justPasted=!0}onModelChange(e){!e&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);const i=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let a=0,h=!1;if(this._maskService.applyValueChanges(i,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(r,l)=>{this._justPasted=!1,a=r,h=l}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let o=this._position?this._inputValue.length+i+a:i+("Backspace"!==this._code||h?a:0);o>this._getActualInputLength()&&(o=this._getActualInputLength()),o<0&&(o=0),t.setSelectionRange(o,o),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const h=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==h&&(t.value=h),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){var i,a;if(!this._maskValue)return;this._code=e.code?e.code:e.key;const t=e.target;if(this._inputValue=t.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===t.value.length&&(t.selectionStart=t.selectionEnd),8===e.keyCode&&0!==t.selectionStart)if(this.specialCharacters=(null==(i=this.specialCharacters)?void 0:i.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&t.selectionStart<=this.prefix.length)t.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==t.selectionStart&&1!==t.selectionStart)for(;this.specialCharacters.includes((null!=(a=this._inputValue[t.selectionStart-1])?a:"").toString())&&(this.prefix.length>=1&&t.selectionStart>this.prefix.length||0===this.prefix.length);)t.setSelectionRange(t.selectionStart-1,t.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,t)}this.suffixCheckOnPressDelete(e.keyCode,t),this._maskService.prefix.length&&t.selectionStart<=this._maskService.prefix.length&&t.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const h=t.selectionStart;8===e.keyCode&&!t.readOnly&&0===h&&t.selectionEnd===t.value.length&&0!==t.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart?t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&e.ctrlKey||65===e.keyCode&&e.metaKey)&&(t.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=t.selectionStart,this._maskService.selEnd=t.selectionEnd}writeValue(e){var t=this;return function(n){return function(){var f=this,e=arguments;return new Promise(function(t,i){var a=n.apply(f,e);function h(r){L(a,t,i,h,o,"next",r)}function o(r){L(a,t,i,h,o,"throw",r)}h(void 0)})}}(function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&t.setDisabledState(Boolean(e.disable)),e=e.value),"number"==typeof e&&(e=String(e),e="."!==t.decimalMarker?e.replace(".",t.decimalMarker):e,t._maskService.isNumberValue=!0),"string"!=typeof e&&(e=""),t._inputValue=e,t._setMask(),e&&t._maskService.maskExpression||t._maskService.maskExpression&&(t._maskService.prefix||t._maskService.showMaskTyped)?(t._maskService.writingValue=!0,t._maskService.formElementProperty=["value",t._maskService.applyMask(e,t._maskService.maskExpression)],t._maskService.writingValue=!1):t._maskService.formElementProperty=["value",e],t._inputValue=e})()}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}suffixCheckOnPressDelete(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,i,a)=>{if(this._start="{"===i?a:this._start,"}"!==i)return this._maskService._findSpecialChar(i)?t+i:t;this._end=a;const h=Number(e.slice(this._start+1,this._end));return t+new Array(h+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){var i;const t=this._maskValue.split("").filter(a=>":"!==a).length;return e&&(0==+(null!=(i=e[e.length-1])?i:"")&&e.length<t||e.length<=t-2)?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{var i,a;const t=(null==(i=this._maskService.removeMask(this._inputValue))?void 0:i.length)<=(null==(a=this._maskService.removeMask(e))?void 0:a.length);if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(H.K0),s.Y36(X),s.Y36(Z))},n.\u0275dir=s.lG2({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&s.NdJ("paste",function(){return t.onPaste()})("ngModelChange",function(a){return t.onModelChange(a)})("input",function(a){return t.onInput(a)})("blur",function(){return t.onBlur()})("click",function(a){return t.onFocus(a)})("keydown",function(a){return t.onKeyDown(a)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[s._Bn([{provide:M.JU,useExisting:(0,s.Gpc)(()=>n),multi:!0},{provide:M.Cf,useExisting:(0,s.Gpc)(()=>n),multi:!0},X]),s.TTD]}),n})();function re(n,f){return A(A({},n),f instanceof Function?f():f)}let ae=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:j,useValue:e},{provide:J,useValue:ee},{provide:Z,useFactory:re,deps:[J,j]},B]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};q.KeyboardEvent||(q.KeyboardEvent=function(n,f){});var G=u(3213);const ne=["autofocus"];function he(n,f){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"p",3),s._uU(2,"Enter Pass Key Details Here"),s.qZA(),s.TgZ(3,"div",4),s.TgZ(4,"div",5),s.TgZ(5,"div",6),s.TgZ(6,"label",7),s._uU(7,"SkyVault Address"),s.qZA(),s.TgZ(8,"input",8,9),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().walletName=i}),s.qZA(),s.TgZ(10,"span",10),s._uU(11,".skyvault.cc"),s.qZA(),s.qZA(),s.TgZ(12,"div",11),s.TgZ(13,"label",7),s._uU(14,"Pass Key Number"),s.qZA(),s.TgZ(15,"input",12),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().cardNumber=i}),s.qZA(),s.qZA(),s.TgZ(16,"div",13),s.TgZ(17,"label",7),s._uU(18,"Expiry Date"),s.qZA(),s.TgZ(19,"input",14),s.NdJ("ngModelChange",function(i){return s.CHM(e),s.oxw().expiryDate=i}),s.qZA(),s.qZA(),s.TgZ(20,"div",15),s.TgZ(21,"label",7),s._uU(22,"CVV"),s.qZA(),s.TgZ(23,"input",16),s.NdJ("keypress",function(i){return s.CHM(e),s.oxw().keyPressNumbers(i)})("ngModelChange",function(i){return s.CHM(e),s.oxw().cvv2=i}),s.qZA(),s.qZA(),s.qZA(),s._UZ(24,"div",17),s.TgZ(25,"div",18),s.TgZ(26,"a",19),s.NdJ("click",function(){return s.CHM(e),s.oxw().login()}),s._uU(27,"SUBMIT"),s.qZA(),s.qZA(),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(8),s.Q6J("ngModel",e.walletName),s.xp6(7),s.Q6J("ngModel",e.cardNumber),s.xp6(4),s.Q6J("leadZeroDateTime",!0)("ngModel",e.expiryDate),s.xp6(4),s.Q6J("ngModel",e.cvv2)}}function oe(n,f){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"ng-lottie",20),s.NdJ("animationCreated",function(i){return s.CHM(e),s.oxw().animationCreated(i)}),s.qZA(),s.TgZ(2,"div",21),s._uU(3),s.qZA(),s.TgZ(4,"div",22),s.TgZ(5,"button",23),s.NdJ("click",function(){return s.CHM(e),s.oxw().hideErrorMessage()}),s._uU(6," Back "),s.qZA(),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("options",e.errorOptions),s.xp6(2),s.Oqu(e.errorMessage)}}function le(n,f){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"div",22),s.TgZ(2,"ng-lottie",24),s.NdJ("animationCreated",function(i){return s.CHM(e),s.oxw().animationCreated(i)}),s.qZA(),s.TgZ(3,"span",25),s._uU(4),s.qZA(),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(2),s.Q6J("options",e.options),s.xp6(2),s.Oqu(e.loadingMessage)}}const ce=[{path:"",component:(()=>{class n{constructor(e,t,i,a){this.auth=e,this.router=t,this.skyvault=i,this.indc=a,this.walletName="",this.cardNumber="",this.expiryDate="",this.cvv2=null,this.errorMessage="",this.options={path:"/assets/animations/cloud_login.json"},this.errorOptions={path:"/assets/animations/error.json"},this.showLoader=!1,this.showNormal=!0,this.showError=!1,this.loadingMessage=null,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngAfterViewInit(){}ngOnInit(){localStorage.setItem("job","0"),this.auth.getLoggedIn()&&this.router.navigate(["/balance"]),this.watchIndicator=this.indc.currentRStatus.subscribe(e=>{0==Object.keys(e).length?(this.options={path:"/assets/animations/cloud_loading.json"},this.showLoading(!0),this.loadingMessage="Contacting RAIDA..."):(this.options={path:"/assets/animations/cloud_login.json"},this.showLoading(!1))})}ngOnDestroy(){this.watchIndicator&&this.watchIndicator.unsubscribe()}keyPressNumbers(e){var t=e.which?e.which:e.keyCode;return!(t<48||t>57)||(e.preventDefault(),!1)}login(){return(0,U.mG)(this,void 0,void 0,function*(){if(this.loadingMessage="",this.walletName&&""!==this.walletName)if(this.cardNumber&&""!==this.cardNumber){if(16!==this.cardNumber.replace(" ","").length)return void this.showErrorMessage("Invalid card number");if(this.cardNumber=this.cardNumber.replace(" ",""),!this.cvv2||this.cvv2.toString().length<4)return void this.showErrorMessage("Invalid PIN");this.walletName=this.walletName+".skyvault.cc";const e={username:this.walletName,cardnumber:this.cardNumber.toString(),cvv:this.cvv2.toString()};this.showLoading(!0),localStorage.setItem("job","1");let t=yield this.skyvault.loginWithCard(e);if(t)if(localStorage.setItem("job","0"),"error"===t.status)-1!==t.errorText.indexOf("Failed to resolve DNS name")?this.showErrorMessage("Invalid Pass Key Details"):this.showErrorMessage(t.errorText);else if("done"===t.status){const i=t.cc;!i.an&&i.ans&&(i.an=i.ans),localStorage.setItem("cc",JSON.stringify(i)),localStorage.setItem("skyvault",this.walletName),localStorage.setItem("statements","true"),this.auth.checkLoginStatus();let a=JSON.parse(localStorage.getItem("b4uPay")),h=JSON.parse(localStorage.getItem("bitmartPay")),o=JSON.parse(localStorage.getItem("merchantPay")),r=JSON.parse(localStorage.getItem("payRoute"));setTimeout(a?()=>{this.router.navigate(["/b4u"],{queryParams:a})}:h?()=>{this.router.navigate(["/bitmart"],{queryParams:h})}:r?()=>{this.router.navigate([r])}:o?()=>{this.router.navigate(["/payment"],{queryParams:o})}:()=>{this.router.navigate(["/balance"])},2500)}}else this.showErrorMessage("Invalid card number");else this.showErrorMessage("Invalid wallet name")})}animationCreated(e){}showLoading(e){e?(this.showNormal=!1,this.showLoader=!0,this.showError=!1):(this.showNormal=!0,this.showLoader=!1,this.showError=!1)}showErrorMessage(e){this.errorMessage=e,this.showNormal=!1,this.showError=!0,this.showLoader=!1}hideErrorMessage(){this.errorMessage="",this.showNormal=!0,this.showError=!1,this.showLoader=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(W.r),s.Y36(R.F0),s.Y36(z._),s.Y36(K.Q))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-debit-card-details"]],viewQuery:function(e,t){if(1&e&&s.Gf(ne,5),2&e){let i;s.iGM(i=s.CRH())&&(t.autoFocusField=i.first)}},decls:5,vars:3,consts:[[1,"debit-card-container"],[1,"container"],[4,"ngIf"],[1,"pageHeading"],[1,"debit-details-inner"],[1,"row"],[1,"floatLbl"],["for","sv-add",1,"label-input-form"],["placeholder","username","type","text","name","walletName",1,"input-form",3,"ngModel","ngModelChange"],["autofocus",""],[1,"domainName"],[1,"col-md-5"],["placeholder","XXXX XXXX XXXX XXXX","type","text","name","cardNumber","mask","0000 0000 0000 0000",1,"input-form",3,"ngModel","ngModelChange"],[1,"col-md-4"],["placeholder","MM/YY","type","text","name","expiryDate","mask","M0/00",1,"input-form",3,"leadZeroDateTime","ngModel","ngModelChange"],[1,"col-md-3"],["placeholder","XXXXXXXXX","type","text","name","cvv2","maxlength","4",1,"input-form",3,"ngModel","keypress","ngModelChange"],[1,"gap30"],[2,"text-align","center"],["href","javascript:void(0)",1,"buttonCustome",3,"click"],["height","100px",3,"options","animationCreated"],[1,"errorMsg"],[1,"text-center"],[1,"buttonCustome",3,"click"],["height","150px",3,"options","animationCreated"],[1,"errorMsg",2,"color","#ffffff"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.YNc(2,he,28,5,"ng-container",2),s.YNc(3,oe,7,2,"ng-container",2),s.YNc(4,le,5,2,"ng-container",2),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngIf",t.showNormal),s.xp6(1),s.Q6J("ngIf",t.showError),s.xp6(1),s.Q6J("ngIf",t.showLoader))},directives:[H.O5,M.Fj,M.JJ,M.On,ie,M.nD,G.e$],styles:[".debit-card-container[_ngcontent-%COMP%]{height:100%;display:flex}.debit-card-container[_ngcontent-%COMP%]   .pageHeading[_ngcontent-%COMP%]{text-align:center}.debit-card-container[_ngcontent-%COMP%]   .debit-details-inner[_ngcontent-%COMP%]{max-width:710px;margin:auto}.debit-card-container[_ngcontent-%COMP%]   .debit-details-inner[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:20px}.debit-card-container[_ngcontent-%COMP%]   .debit-details-inner[_ngcontent-%COMP%]   .btn-forms[_ngcontent-%COMP%]{color:#84859b;background-color:#4d4f6e;padding:8px 55px;border-radius:24px;margin-top:40px;border:1px solid #656887}.formField[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;width:600px;background-color:#ffffff12;color:#fff;font-size:16px;border:none;border-radius:15px;padding:0 20px;line-height:60px;outline:none;height:60px;margin-bottom:20px}.formField[_ngcontent-%COMP%]   .domainName[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;font-size:15px;color:#fff;line-height:15px;margin-left:5px}"]}),n})()}];let fe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[R.Bz.forChild(ce)],R.Bz]}),n})();var de=u(8329);let me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[H.ez,M.u5,fe,G.CT,de.uH,ae.forRoot()]]}),n})()}}]);